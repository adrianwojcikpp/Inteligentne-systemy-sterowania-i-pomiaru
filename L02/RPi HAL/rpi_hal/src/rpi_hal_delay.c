/**
  ******************************************************************************
  * @file    rpi_hal_delay.c
  * @author  AW           Adrian.Wojcik@put.poznan.pl
  * @version 1.0
  * @date    13 Jun 2021
  * @brief   Raspberry Pi delay API
  *
  ******************************************************************************
  */
  
/* Includes ------------------------------------------------------------------*/
#include "rpi_hal_delay.h"

/* Typedef -------------------------------------------------------------------*/

/* Define --------------------------------------------------------------------*/

/* Macro ---------------------------------------------------------------------*/

/* Private variables ---------------------------------------------------------*/

/* Public variables ----------------------------------------------------------*/

/* Private function prototypes -----------------------------------------------*/

/* Private function ----------------------------------------------------------*/

/* Public function -----------------------------------------------------------*/

void HAL_Delay_ms(uint32_t ms)
{
  nanosleep((const struct timespec[]){{ms/1000L, (ms%1000L)*1000000L}}, NULL);
}

void HAL_Delay_us(uint32_t us)
{
  nanosleep((const struct timespec[]){{us/1000000L, (us%1000000L)*1000L}}, NULL);
}